<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ゴマちゃんを追え</title>
    <style>
      /* ここは CSS（デザイン）の部屋 */
      body {
        margin: 0;
        overflow: hidden; /* スクロールバーが出ないようにする */
      }
      canvas {
        display: block; /* 隙間なく表示する */
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>

    <script>
      /* ここは JavaScript（命令）の部屋 */

      // 1. 画用紙を捕まえる
      //   const canvas = document.getElementById("gameCanvas");
      const canvas = document.getElementById("gameCanvas");
      console.log(canvas);

      // 2. ペンを取り出す
      //const ctx = canvas.getContext("2d");
      const ctx = canvas.getContext("2d");
      console.log(ctx);

      //   // 1. 画像を入れるための「箱（オブジェクト）」を作る
      //   const spriteImage = new Image();

      //   // 2. 「箱」の中に画像を読み込む（パスを指定する）
      //   spriteImage.src = "images/goma.png";

      //   // 3. 読み込みが終わった「あと」で実行する
      //   spriteImage.onload = () => {
      //     console.log("画像の読み込みが完了したよ！");
      //     // ここにゴマちゃんを描く命令を後で書きます
      //   };
      const spriteImage = new Image();
      spriteImage.src = "images/goma.png";
      spriteImage.onload = () => {
        console.log("画像の読み込みが完了したよ！");
        //         // ゴマちゃんの表示サイズを決める（200ピクセル）
        //   const size = 200;

        //   // 画面の真ん中に計算して置く
        //   // (画面の幅 / 2) - (自分の幅 / 2)
        //   const x = canvas.width / 2 - size / 2;
        //   const y = canvas.height / 2 - size / 2;

        //   // ゴマちゃんを描く！
        //   ctx.drawImage(spriteImage, x, y, size, size);
        const size = 200;
        const x = canvas.width / 2 - size / 2;
        const y = canvas.height / 2 - size / 2;
        ctx.drawImage(spriteImage, x, y, size, size);
      };
      // 3. 画用紙のサイズを画面いっぱいに設定する
      //   function resize() {
      //     canvas.width = window.innerWidth;
      //     canvas.height = window.innerHeight;
      //     console.log(canvas.width);
      //     console.log(canvas.height);
      //     drawBackground();
      //  }
      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        drawBackground();
      }

      // 4. 紺色で塗りつぶす関数
      //function drawBackground() {
      // ctx.fillStyle = "#0a0a32";
      // ctx.fillRect(0, 0, canvas.width, canvas.height);
      // }
      function drawBackground() {
        ctx.fillStyle = "#0a0a32";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }

      window.addEventListener("resize", resize);
      resize();
    </script>
  </body>
</html>
