<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>ãƒ‘ãƒ³ãã‚“ã‚’è¿½ãˆ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        user-select: none;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      body {
        display: flex;
        flex-direction: column; /* ç¸¦ã«ä¸¦ã¹ã‚‹ */
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        font-family: Arial, sans-serif;
      }

      /* --- å…±é€šãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« --- */
      #site-nav {
        text-align: center;
        padding: 10px;
        margin-bottom: 10px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        gap: 5px;
        z-index: 100; /* æœ€å‰é¢ã« */
      }

      .nav-link {
        display: inline-block;
        padding: 8px 16px;
        text-decoration: none;
        color: #555;
        border-radius: 25px;
        font-size: 0.8rem;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .nav-link.active {
        background-color: #4385f4;
        color: white !important;
      }
      /* ------------------------------ */

      .container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: auto;
        max-height: 90vh;
        padding: 5px;
        gap: 8px;
        overflow-y: auto;
      }

      h1 {
        color: white;
        font-size: clamp(18px, 5vw, 36px);
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        flex-shrink: 0;
        margin-bottom: 5px;
      }

      .title-area {
        flex-shrink: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 15px;
        width: 100%;
      }

      .image-container img {
        max-width: 90vw;
        max-height: 80px;
        width: auto;
        height: auto;
        object-fit: contain;
        border-radius: 8px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      }

      .game-wrapper {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-height: calc(100vh - 250px);
      }

      #gameCanvas {
        border: 3px solid white;
        background-color: #0a0a32;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        max-width: 95vw;
        touch-action: none;
      }

      .volume-control {
        background: rgba(0, 0, 0, 0.7);
        padding: 8px 10px;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
      }

      .volume-slider {
        width: 80px;
      }
      .volume-value {
        color: white;
        font-size: 10px;
      }

      .instructions {
        color: white;
        font-size: 11px;
        background: rgba(0, 0, 0, 0.3);
        padding: 8px;
        border-radius: 6px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <nav id="site-nav">
      <a href="index.html" class="nav-link">ãƒ¡ã‚¤ãƒ³è¨ˆç®—æ©Ÿ</a>
      <a href="chasepankun.html" class="nav-link">ãƒ‘ãƒ³ãã‚“ã‚’è¿½ãˆ</a>
      <a href="index1.html" class="nav-link">Ver.1</a>
      <a href="index2.html" class="nav-link">Ver.2</a>
    </nav>

    <div class="container">
      <h1>ãƒ‘ãƒ³ãã‚“ã‚’è¿½ãˆ</h1>
      <div class="title-area">
        <div class="image-container">
          <img src="images/kiyo.png" alt="ãã‚ˆã®ã‚¤ãƒ©ã‚¹ãƒˆ" />
        </div>
        <div class="volume-control">
          <div class="volume-icon">ğŸ”Š</div>
          <input
            type="range"
            id="volumeSlider"
            class="volume-slider"
            min="0"
            max="100"
            value="70"
          />
          <div class="volume-value"><span id="volumeValue">70</span>%</div>
        </div>
      </div>
      <div class="game-wrapper">
        <canvas id="gameCanvas"></canvas>
      </div>
      <div class="instructions">
        <p>å‹•ã„ã¦ã„ã‚‹ãƒ‘ãƒ³ãã‚“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚³ã‚¢ã‚’ä¸Šã’ã¾ã—ã‚‡ã†!</p>
        <p>ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ãŸã³ã«ãƒ‘ãƒ³ãã‚“ã¯ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒä¸ŠãŒã‚‹ã‚ˆ</p>
      </div>
    </div>

    <script>
      // --- ãƒšãƒ¼ã‚¸å…¨ä½“ã®ä»•çµ„ã¿ ---

      // ãƒšãƒ¼ã‚¸ï¼ˆHTMLï¼‰ã®èª­ã¿è¾¼ã¿ãŒå®Œäº†ã—ãŸç¬é–“ã«å®Ÿè¡Œã™ã‚‹
      window.addEventListener("DOMContentLoaded", () => {
        // ç¾åœ¨ã®URLã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆindex.htmlãªã©ï¼‰ã‚’æŠœãå‡ºã—ã€ç„¡ã‘ã‚Œã°index.htmlã¨ã™ã‚‹
        const currentFile =
          window.location.pathname.split("/").pop() || "index.html";
        // ç”»é¢å†…ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ï¼ˆ.nav-linkï¼‰ã‚’ã™ã¹ã¦å–å¾—ã™ã‚‹
        const links = document.querySelectorAll(".nav-link");

        // ãƒªãƒ³ã‚¯ã‚’ä¸€ã¤ãšã¤ãƒã‚§ãƒƒã‚¯ã™ã‚‹
        links.forEach((link) => {
          // ã‚‚ã—ãƒªãƒ³ã‚¯ã®ç§»å‹•å…ˆã¨ã€ã„ã¾é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åãŒåŒã˜ãªã‚‰
          if (link.getAttribute("href") === currentFile) {
            // ãã®ãƒªãƒ³ã‚¯ã«ã€Œactiveã€ã¨ã„ã†ç›®å°ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ã‚’ã¤ã‘ã¦è‰²ã‚’å¤‰ãˆã‚‹æº–å‚™ã‚’ã™ã‚‹
            link.classList.add("active");
          }
        });
      });

      // --- ã‚²ãƒ¼ãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆåŸºæœ¬è¨­å®šï¼‰ ---

      // çµµã‚’æããŸã‚ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆç”»ç”¨ç´™ï¼‰ã‚’å–å¾—
      const canvas = document.getElementById("gameCanvas");
      // ç”»ç”¨ç´™ã«æããŸã‚ã®ãƒšãƒ³ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰ã‚’å–å¾—
      const ctx = canvas.getContext("2d");
      // éŸ³é‡ã‚’èª¿æ•´ã™ã‚‹ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’å–å¾—
      const volumeSlider = document.getElementById("volumeSlider");
      // éŸ³é‡ã®æ•°å­—ã‚’è¡¨ç¤ºã™ã‚‹å ´æ‰€ã‚’å–å¾—
      const volumeValue = document.getElementById("volumeValue");

      // ã‚²ãƒ¼ãƒ å†…ã®ä»®æƒ³çš„ãªç”»é¢ã‚µã‚¤ã‚ºï¼ˆåŸºæº–ã¨ãªã‚‹å¤§ãã•ï¼‰
      const GAME_WIDTH = 600;
      const GAME_HEIGHT = 400;

      // ã‚²ãƒ¼ãƒ ã§ä½¿ã†ãƒ‡ãƒ¼ã‚¿ã®åˆæœŸå€¤
      let score = 0; // ã‚¹ã‚³ã‚¢
      let spriteX = GAME_WIDTH / 2; // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ¨ªä½ç½®ï¼ˆæœ€åˆã¯çœŸã‚“ä¸­ï¼‰
      let spriteY = GAME_HEIGHT / 2; // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç¸¦ä½ç½®ï¼ˆæœ€åˆã¯çœŸã‚“ä¸­ï¼‰
      let spriteSpeed = [2, 2]; // ç§»å‹•é€Ÿåº¦ [æ¨ªã«2, ç¸¦ã«2]
      let spriteRadius = 25; // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å½“ãŸã‚Šåˆ¤å®šã®å¤§ãã•
      let spriteImage = null; // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç”»åƒã‚’å…¥ã‚Œã‚‹ç®±
      let scaleX = 1; // å®Ÿéš›ã®ç”»é¢ã‚µã‚¤ã‚ºã«åˆã‚ã›ã‚‹ãŸã‚ã®æ¨ªã®å€ç‡
      let scaleY = 1; // å®Ÿéš›ã®ç”»é¢ã‚µã‚¤ã‚ºã«åˆã‚ã›ã‚‹ãŸã‚ã®ç¸¦ã®å€ç‡
      let volume = 70; // åŠ¹æœéŸ³ã®å¤§ãã•ï¼ˆ0ã€œ100ï¼‰

      // --- éŸ³ã‚’é³´ã‚‰ã™ä»•çµ„ã¿ ---

      let audioContext = null; // éŸ³ã‚’å‡ºã™ãŸã‚ã®å¤§å…ƒã®ã‚·ã‚¹ãƒ†ãƒ 
      function initAudio() {
        // ã¾ã ã‚·ã‚¹ãƒ†ãƒ ãŒæº–å‚™ã§ãã¦ã„ãªã‘ã‚Œã°ä½œæˆã™ã‚‹ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶åˆ¶é™å¯¾ç­–ï¼‰
        if (!audioContext) {
          audioContext = new (
            window.AudioContext || window.webkitAudioContext
          )();
        }
        return audioContext;
      }

      // æˆåŠŸã—ãŸã¨ãï¼ˆã‚¯ãƒªãƒƒã‚¯æ™‚ï¼‰ã«é«˜ã„éŸ³ã‚’é³´ã‚‰ã™
      function playSuccessSound() {
        try {
          const ctxAudio = initAudio(); // ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•
          const now = ctxAudio.currentTime; // ä»Šã®æ™‚é–“
          const gainNode = ctxAudio.createGain(); // ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¤ã¾ã¿ä½œæˆ
          gainNode.gain.value = (volume / 100) * 0.3; // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤ã‚’åæ˜ 
          gainNode.connect(ctxAudio.destination); // ã¤ã¾ã¿ã‚’ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã«æ¥ç¶š

          const osc = ctxAudio.createOscillator(); // é›»å­éŸ³ã®ç™ºæŒ¯å™¨ã‚’ä½œæˆ
          osc.type = "sine"; // æŸ”ã‚‰ã‹ãªéŸ³ã®ç¨®é¡ã«è¨­å®š
          osc.frequency.setValueAtTime(800, now); // æœ€åˆã®éŸ³ã®é«˜ã•(800Hz)
          osc.frequency.exponentialRampToValueAtTime(1200, now + 0.1); // 0.1ç§’ã§éŸ³ã‚’é«˜ãã™ã‚‹ï¼ˆãƒ”ã‚³ãƒƒï¼ï¼‰
          osc.connect(gainNode); // ç™ºæŒ¯å™¨ã‚’ã¤ã¾ã¿ã«æ¥ç¶š
          osc.start(now); // éŸ³ã‚’å‡ºã™
          osc.stop(now + 0.1); // 0.1ç§’å¾Œã«æ­¢ã‚ã‚‹
        } catch (e) {
          console.log(e);
        } // ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¦ã‚‚ã‚²ãƒ¼ãƒ ã‚’æ­¢ã‚ãªã„
      }

      // --- ç”»åƒã®èª­ã¿è¾¼ã¿ ---

      const img = new Image(); // æ–°ã—ã„ç”»åƒã®ç®±ã‚’ä½œã‚‹
      img.src = "images/goma.png"; // èª­ã¿è¾¼ã‚€ç”»åƒã®ãƒ‘ã‚¹ã‚’æŒ‡å®š
      img.onload = () => {
        spriteImage = img;
      }; // èª­ã¿è¾¼ã¿ãŒçµ‚ã‚ã£ãŸã‚‰å¤‰æ•°ã«ä¿å­˜

      // --- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã¸ã®åå¿œ ---

      // éŸ³é‡ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒå‹•ã‹ã•ã‚ŒãŸã¨ã
      volumeSlider.addEventListener("input", (e) => {
        volume = parseInt(e.target.value); // æ–°ã—ã„éŸ³é‡ã‚’å–å¾—
        volumeValue.textContent = volume; // ç”»é¢ä¸Šã®æ•°å­—ã‚’æ›¸ãæ›ãˆã‚‹
        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®æºã®è‰²ã‚’å‹•çš„ã«å¤‰ãˆã‚‹
        volumeSlider.style.background = `linear-gradient(to right, #667eea 0%, #667eea ${volume}%, #ccc ${volume}%, #ccc 100%)`;
      });

      // ç”»é¢ã®ã‚µã‚¤ã‚ºãŒå¤‰ã‚ã£ãŸã¨ãã«ã‚­ãƒ£ãƒ³ãƒã‚¹ã®å¤§ãã•ã‚’èª¿æ•´ã™ã‚‹
      function resizeCanvas() {
        const containerWidth = Math.min(window.innerWidth - 20, GAME_WIDTH); // ç”»é¢å¹…ã«åˆã‚ã›ã¤ã¤æœ€å¤§å€¤ã‚’å®ˆã‚‹
        const containerHeight = Math.min(window.innerHeight - 300, GAME_HEIGHT); // é«˜ã•ã‚‚èª¿æ•´
        const aspectRatio = GAME_WIDTH / GAME_HEIGHT; // å…ƒã®ç¸¦æ¨ªæ¯”

        let canvasWidth = containerWidth;
        let canvasHeight = containerWidth / aspectRatio;

        // é«˜ã•ãŒã¯ã¿å‡ºã™å ´åˆã¯èª¿æ•´
        if (canvasHeight > containerHeight) {
          canvasHeight = containerHeight;
          canvasWidth = canvasHeight * aspectRatio;
        }

        canvas.width = Math.max(canvasWidth, 250); // æœ€ä½ã‚µã‚¤ã‚ºã‚’ç¢ºä¿
        canvas.height = Math.max(canvasHeight, 166);

        // åŸºæº–ã‚µã‚¤ã‚º(600x400)ã«å¯¾ã—ã¦ã€ä»Šã®ç”»é¢ãŒä½•å€ã®å¤§ãã•ã‹ã‚’è¨ˆç®—ï¼ˆã‚¯ãƒªãƒƒã‚¯åˆ¤å®šç”¨ï¼‰
        scaleX = canvas.width / GAME_WIDTH;
        scaleY = canvas.height / GAME_HEIGHT;
      }

      // --- æç”»ã¨è¨ˆç®—ï¼ˆãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ ---

      // ç”»é¢ã‚’æãå‡¦ç†
      function draw() {
        ctx.fillStyle = "#0a0a32"; // èƒŒæ™¯ã®è‰²ï¼ˆç´ºè‰²ï¼‰
        ctx.fillRect(0, 0, canvas.width, canvas.height); // ç”»é¢å…¨ä½“ã‚’å¡—ã‚Šã¤ã¶ã—ï¼ˆãƒªã‚»ãƒƒãƒˆï¼‰

        ctx.fillStyle = "white"; // æ–‡å­—ã®è‰²
        const fontSize = Math.max(16, canvas.width / 20); // ç”»é¢ã®å¤§ãã•ã«åˆã‚ã›ã¦æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¤‰ãˆã‚‹
        ctx.font = `bold ${fontSize}px Arial`; // ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
        ctx.fillText(`Score: ${score}`, 15, fontSize + 10); // ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤º

        const drawX = spriteX * scaleX; // å®Ÿéš›ã®æç”»ä½ç½®ã‚’è¨ˆç®—ï¼ˆæ¨ªï¼‰
        const drawY = spriteY * scaleY; // å®Ÿéš›ã®æç”»ä½ç½®ã‚’è¨ˆç®—ï¼ˆç¸¦ï¼‰
        const spriteSize = 100 * Math.min(scaleX, scaleY); // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤§ãã•ã‚’èª¿æ•´

        if (spriteImage) {
          // ç”»åƒãŒã‚ã‚Œã°ç”»åƒã‚’æã
          ctx.drawImage(
            spriteImage,
            drawX - spriteSize / 2,
            drawY - spriteSize / 2,
            spriteSize,
            spriteSize,
          );
        } else {
          // ç”»åƒãŒãªã‘ã‚Œã°é»„è‰²ã„å††ã‚’æãï¼ˆäºˆå‚™ï¼‰
          ctx.fillStyle = "yellow";
          ctx.beginPath();
          ctx.arc(
            drawX,
            drawY,
            spriteRadius * Math.min(scaleX, scaleY),
            0,
            Math.PI * 2,
          );
          ctx.fill();
        }
      }

      // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½ç½®ã‚’æ›´æ–°ã™ã‚‹å‡¦ç†
      function update() {
        spriteX += spriteSpeed[0]; // æ¨ªã«å‹•ã‹ã™
        spriteY += spriteSpeed[1]; // ç¸¦ã«å‹•ã‹ã™

        // å·¦å³ã®å£ã«å½“ãŸã£ãŸã‚‰è·³ã­è¿”ã‚‹
        if (spriteX < 50 || spriteX > GAME_WIDTH - 50) spriteSpeed[0] *= -1;
        // ä¸Šä¸‹ã®å£ã«å½“ãŸã£ãŸã‚‰è·³ã­è¿”ã‚‹
        if (spriteY < 50 || spriteY > GAME_HEIGHT - 50) spriteSpeed[1] *= -1;
      }

      // --- ã‚¯ãƒªãƒƒã‚¯ãƒ»ã‚¿ãƒƒãƒã•ã‚ŒãŸã¨ãã®åˆ¤å®š ---

      function handleClick(event) {
        const rect = canvas.getBoundingClientRect(); // ã‚­ãƒ£ãƒ³ãƒã‚¹ã®ç”»é¢ä¸Šã®ä½ç½®ã‚’å–å¾—

        // ãƒã‚¦ã‚¹ã‹æŒ‡ã‹ã€ã©ã¡ã‚‰ã§è§¦ã‚ŒãŸã‹ã«ã‚ˆã£ã¦åº§æ¨™ã®å–ã‚Šæ–¹ã‚’å¤‰ãˆã‚‹
        let clientX = event.touches ? event.touches[0].clientX : event.clientX;
        let clientY = event.touches ? event.touches[0].clientY : event.clientY;

        // æŒ‡ãŒé›¢ã‚ŒãŸç¬é–“ã®ãŸã‚ã®åº§æ¨™å–å¾—
        if (event.changedTouches) {
          clientX = event.changedTouches[0].clientX;
          clientY = event.changedTouches[0].clientY;
        }

        // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸä½ç½®ãŒã€Œã‚²ãƒ¼ãƒ å†…ã®åŸºæº–ã‚µã‚¤ã‚ºã€ã§ã©ã“ã‹ã‚’è¨ˆç®—
        const clickX = (clientX - rect.left) / scaleX;
        const clickY = (clientY - rect.top) / scaleY;

        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä¸­å¿ƒã¨ã‚¯ãƒªãƒƒã‚¯ä½ç½®ã®è·é›¢ã‚’è¨ˆç®—ï¼ˆä¸‰å¹³æ–¹ã®å®šç†ï¼‰
        const dist = Math.sqrt(
          Math.pow(clickX - spriteX, 2) + Math.pow(clickY - spriteY, 2),
        );

        // è·é›¢ãŒ60ä»¥ä¸‹ãªã‚‰ã€Œå½“ãŸã£ãŸã€ã¨ã¿ãªã™
        if (dist < 60) {
          score += 1; // ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—
          // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’åˆ¥ã®å ´æ‰€ã«é£›ã°ã™ï¼ˆãƒ¯ãƒ¼ãƒ—ï¼‰
          spriteX = Math.random() * (GAME_WIDTH - 100) + 50;
          spriteY = Math.random() * (GAME_HEIGHT - 100) + 50;
          // ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’5%ã‚¢ãƒƒãƒ—ã•ã›ã‚‹
          spriteSpeed[0] *= 1.05;
          spriteSpeed[1] *= 1.05;
          playSuccessSound(); // éŸ³ã‚’é³´ã‚‰ã™
        }
      }

      // ãƒã‚¦ã‚¹ã‚’æŠ¼ã—ãŸã¨ã
      canvas.addEventListener("mousedown", handleClick);
      // æŒ‡ã§è§¦ã‚ŒãŸã¨ãï¼ˆç”»é¢ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãªã©ã‚’é˜²ãè¨­å®šä»˜ãï¼‰
      canvas.addEventListener(
        "touchstart",
        (e) => {
          e.preventDefault();
          handleClick(e);
        },
        { passive: false },
      );

      // --- ã‚²ãƒ¼ãƒ ã®é–‹å§‹ ---

      // å‹•ãç¶šã‘ã‚‹ãƒ«ãƒ¼ãƒ—å‡¦ç†
      function gameLoop() {
        update(); // è¨ˆç®—ã™ã‚‹
        draw(); // æã
        requestAnimationFrame(gameLoop); // æ¬¡ã®ã‚³ãƒã‚‚ãŠé¡˜ã„ã™ã‚‹
      }

      resizeCanvas(); // æœ€åˆã«ä¸€åº¦ã‚µã‚¤ã‚ºã‚’æ•´ãˆã‚‹
      window.addEventListener("resize", resizeCanvas); // ç”»é¢ã‚µã‚¤ã‚ºå¤‰æ›´æ™‚ã«ã‚‚æ•´ãˆã‚‹
      gameLoop(); // ãƒ«ãƒ¼ãƒ—ã‚¹ã‚¿ãƒ¼ãƒˆï¼
    </script>
  </body>
</html>
